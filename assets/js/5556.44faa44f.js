"use strict";(self.webpackChunkwake_docs=self.webpackChunkwake_docs||[]).push([[5556],{3175:(e,t,n)=>{n.r(t),n.d(t,{CanarySearchResultsTabs:()=>Ae});var a=n(4440),o=n(2697),s=n(4676),r=n(4715),u=n(3277),i=n(6468);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function c(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var l=n(4932),p=n(2208),h=n(1660),d=(n(896),n(1389)),f={};const b="\\\\/",_=`[^${b}]`,A="\\.",g="\\/",R="[^/]",y=`(?:${g}|$)`,E=`(?:^|${g})`,v=`${A}{1,2}${y}`,x={DOT_LITERAL:A,PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:g,ONE_CHAR:"(?=.)",QMARK:R,END_ANCHOR:y,DOTS_SLASH:v,NO_DOT:`(?!${A})`,NO_DOTS:`(?!${E}${v})`,NO_DOT_SLASH:`(?!${A}{0,1}${y})`,NO_DOTS_SLASH:`(?!${v})`,QMARK_NO_DOT:`[^.${g}]`,STAR:`${R}*?`,START_ANCHOR:E,SEP:"/"},C={...x,SLASH_LITERAL:`[${b}]`,QMARK:_,STAR:`${_}*?`,DOTS_SLASH:`${A}{1,2}(?:[${b}]|$)`,NO_DOT:`(?!${A})`,NO_DOTS:`(?!(?:^|[${b}])${A}{1,2}(?:[${b}]|$))`,NO_DOT_SLASH:`(?!${A}{0,1}(?:[${b}]|$))`,NO_DOTS_SLASH:`(?!${A}{1,2}(?:[${b}]|$))`,QMARK_NO_DOT:`[^.${b}]`,START_ANCHOR:`(?:^|[${b}])`,END_ANCHOR:`(?:[${b}]|$)`,SEP:"\\"};var $={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?C:x};!function(e){const{REGEX_BACKSLASH:t,REGEX_REMOVE_BACKSLASH:n,REGEX_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_GLOBAL:o}=$;e.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),e.hasRegexChars=e=>a.test(e),e.isRegexChar=t=>1===t.length&&e.hasRegexChars(t),e.escapeRegex=e=>e.replace(o,"\\$1"),e.toPosixSlashes=e=>e.replace(t,"/"),e.isWindows=()=>{if("undefined"!=typeof navigator&&navigator.platform){const e=navigator.platform.toLowerCase();return"win32"===e||"windows"===e}return!("undefined"==typeof process||!process.platform)&&"win32"===process.platform},e.removeBackslashes=e=>e.replace(n,(e=>"\\"===e?"":e)),e.escapeLast=(t,n,a)=>{const o=t.lastIndexOf(n,a);return-1===o?t:"\\"===t[o-1]?e.escapeLast(t,n,o-1):`${t.slice(0,o)}\\${t.slice(o)}`},e.removePrefix=(e,t={})=>{let n=e;return n.startsWith("./")&&(n=n.slice(2),t.prefix="./"),n},e.wrapOutput=(e,t={},n={})=>{let a=`${n.contains?"":"^"}(?:${e})${n.contains?"":"$"}`;return!0===t.negated&&(a=`(?:^(?!${a}).*$)`),a},e.basename=(e,{windows:t}={})=>{const n=e.split(t?/[\\/]/:"/"),a=n[n.length-1];return""===a?n[n.length-2]:a}}(f);const S=f,{CHAR_ASTERISK:T,CHAR_AT:H,CHAR_BACKWARD_SLASH:k,CHAR_COMMA:m,CHAR_DOT:O,CHAR_EXCLAMATION_MARK:L,CHAR_FORWARD_SLASH:w,CHAR_LEFT_CURLY_BRACE:M,CHAR_LEFT_PARENTHESES:N,CHAR_LEFT_SQUARE_BRACKET:I,CHAR_PLUS:B,CHAR_QUESTION_MARK:D,CHAR_RIGHT_CURLY_BRACE:P,CHAR_RIGHT_PARENTHESES:G,CHAR_RIGHT_SQUARE_BRACKET:K}=$,U=e=>e===w||e===k,X=e=>{!0!==e.isPrefix&&(e.depth=e.isGlobstar?1/0:1)};var F=(e,t)=>{const n=t||{},a=e.length-1,o=!0===n.parts||!0===n.scanToEnd,s=[],r=[],u=[];let i,c,l=e,p=-1,h=0,d=0,f=!1,b=!1,_=!1,A=!1,g=!1,R=!1,y=!1,E=!1,v=!1,x=!1,C=0,$={value:"",depth:0,isGlob:!1};const F=()=>p>=a,Q=()=>(i=c,l.charCodeAt(++p));for(;p<a;){let e;if(c=Q(),c!==k){if(!0===R||c===M){for(C++;!0!==F()&&(c=Q());)if(c!==k)if(c!==M){if(!0!==R&&c===O&&(c=Q())===O){if(f=$.isBrace=!0,_=$.isGlob=!0,x=!0,!0===o)continue;break}if(!0!==R&&c===m){if(f=$.isBrace=!0,_=$.isGlob=!0,x=!0,!0===o)continue;break}if(c===P&&(C--,0===C)){R=!1,f=$.isBrace=!0,x=!0;break}}else C++;else y=$.backslashes=!0,Q();if(!0===o)continue;break}if(c!==w){if(!0!==n.noext){if(!0===(c===B||c===H||c===T||c===D||c===L)&&l.charCodeAt(p+1)===N){if(_=$.isGlob=!0,A=$.isExtglob=!0,x=!0,c===L&&p===h&&(v=!0),!0===o){for(;!0!==F()&&(c=Q());)if(c!==k){if(c===G){_=$.isGlob=!0,x=!0;break}}else y=$.backslashes=!0,c=Q();continue}break}}if(c===T){if(i===T&&(g=$.isGlobstar=!0),_=$.isGlob=!0,x=!0,!0===o)continue;break}if(c===D){if(_=$.isGlob=!0,x=!0,!0===o)continue;break}if(c===I){for(;!0!==F()&&(e=Q());)if(e!==k){if(e===K){b=$.isBracket=!0,_=$.isGlob=!0,x=!0;break}}else y=$.backslashes=!0,Q();if(!0===o)continue;break}if(!0===n.nonegate||c!==L||p!==h){if(!0!==n.noparen&&c===N){if(_=$.isGlob=!0,!0===o){for(;!0!==F()&&(c=Q());)if(c!==N){if(c===G){x=!0;break}}else y=$.backslashes=!0,c=Q();continue}break}if(!0===_){if(x=!0,!0===o)continue;break}}else E=$.negated=!0,h++}else{if(s.push(p),r.push($),$={value:"",depth:0,isGlob:!1},!0===x)continue;if(i===O&&p===h+1){h+=2;continue}d=p+1}}else y=$.backslashes=!0,c=Q(),c===M&&(R=!0)}!0===n.noext&&(A=!1,_=!1);let j=l,q="",V="";h>0&&(q=l.slice(0,h),l=l.slice(h),d-=h),j&&!0===_&&d>0?(j=l.slice(0,d),V=l.slice(d)):!0===_?(j="",V=l):j=l,j&&""!==j&&"/"!==j&&j!==l&&U(j.charCodeAt(j.length-1))&&(j=j.slice(0,-1)),!0===n.unescape&&(V&&(V=S.removeBackslashes(V)),j&&!0===y&&(j=S.removeBackslashes(j)));const W={prefix:q,input:e,start:h,base:j,glob:V,isBrace:f,isBracket:b,isGlob:_,isExtglob:A,isGlobstar:g,negated:E,negatedExtglob:v};if(!0===n.tokens&&(W.maxDepth=0,U(c)||r.push($),W.tokens=r),!0===n.parts||!0===n.tokens){let t;for(let a=0;a<s.length;a++){const o=t?t+1:h,i=s[a],c=e.slice(o,i);n.tokens&&(0===a&&0!==h?(r[a].isPrefix=!0,r[a].value=q):r[a].value=c,X(r[a]),W.maxDepth+=r[a].depth),0===a&&""===c||u.push(c),t=i}if(t&&t+1<e.length){const a=e.slice(t+1);u.push(a),n.tokens&&(r[r.length-1].value=a,X(r[r.length-1]),W.maxDepth+=r[r.length-1].depth)}W.slashes=s,W.parts=u}return W};const Q=$,j=f,{MAX_LENGTH:q,POSIX_REGEX_SOURCE:V,REGEX_NON_SPECIAL_CHARS:W,REGEX_SPECIAL_CHARS_BACKREF:Z,REPLACEMENTS:z}=Q,Y=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();const n=`[${e.join("-")}]`;try{new RegExp(n)}catch(a){return e.map((e=>j.escapeRegex(e))).join("..")}return n},J=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,ee=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=z[e]||e;const n={...t},a="number"==typeof n.maxLength?Math.min(q,n.maxLength):q;let o=e.length;if(o>a)throw new SyntaxError(`Input length: ${o}, exceeds maximum allowed length: ${a}`);const s={type:"bos",value:"",output:n.prepend||""},r=[s],u=n.capture?"":"?:",i=Q.globChars(n.windows),c=Q.extglobChars(i),{DOT_LITERAL:l,PLUS_LITERAL:p,SLASH_LITERAL:h,ONE_CHAR:d,DOTS_SLASH:f,NO_DOT:b,NO_DOT_SLASH:_,NO_DOTS_SLASH:A,QMARK:g,QMARK_NO_DOT:R,STAR:y,START_ANCHOR:E}=i,v=e=>`(${u}(?:(?!${E}${e.dot?f:l}).)*?)`,x=n.dot?"":b,C=n.dot?g:R;let $=!0===n.bash?v(n):y;n.capture&&($=`(${$})`),"boolean"==typeof n.noext&&(n.noextglob=n.noext);const S={input:e,index:-1,start:0,dot:!0===n.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:r};e=j.removePrefix(e,S),o=e.length;const T=[],H=[],k=[];let m,O=s;const L=()=>S.index===o-1,w=S.peek=(t=1)=>e[S.index+t],M=S.advance=()=>e[++S.index]||"",N=()=>e.slice(S.index+1),I=(e="",t=0)=>{S.consumed+=e,S.index+=t},B=e=>{S.output+=null!=e.output?e.output:e.value,I(e.value)},D=()=>{let e=1;for(;"!"===w()&&("("!==w(2)||"?"===w(3));)M(),S.start++,e++;return e%2!=0&&(S.negated=!0,S.start++,!0)},P=e=>{S[e]++,k.push(e)},G=e=>{S[e]--,k.pop()},K=e=>{if("globstar"===O.type){const t=S.braces>0&&("comma"===e.type||"brace"===e.type),n=!0===e.extglob||T.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||n||(S.output=S.output.slice(0,-O.output.length),O.type="star",O.value="*",O.output=$,S.output+=O.output)}if(T.length&&"paren"!==e.type&&(T[T.length-1].inner+=e.value),(e.value||e.output)&&B(e),O&&"text"===O.type&&"text"===e.type)return O.output=(O.output||O.value)+e.value,void(O.value+=e.value);e.prev=O,r.push(e),O=e},U=(e,t)=>{const a={...c[t],conditions:1,inner:""};a.prev=O,a.parens=S.parens,a.output=S.output;const o=(n.capture?"(":"")+a.open;P("parens"),K({type:e,value:t,output:S.output?"":d}),K({type:"paren",extglob:!0,value:M(),output:o}),T.push(a)},X=e=>{let a,o=e.close+(n.capture?")":"");if("negate"===e.type){let s=$;if(e.inner&&e.inner.length>1&&e.inner.includes("/")&&(s=v(n)),(s!==$||L()||/^\)+$/.test(N()))&&(o=e.close=`)$))${s}`),e.inner.includes("*")&&(a=N())&&/^\.[^\\/.]+$/.test(a)){const n=ee(a,{...t,fastpaths:!1}).output;o=e.close=`)${n})${s})`}"bos"===e.prev.type&&(S.negatedExtglob=!0)}K({type:"paren",extglob:!0,value:m,output:o}),G("parens")};if(!1!==n.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(e)){let a=!1,o=e.replace(Z,((e,t,n,o,s,r)=>"\\"===o?(a=!0,e):"?"===o?t?t+o+(s?g.repeat(s.length):""):0===r?C+(s?g.repeat(s.length):""):g.repeat(n.length):"."===o?l.repeat(n.length):"*"===o?t?t+o+(s?$:""):$:t?e:`\\${e}`));return!0===a&&(o=!0===n.unescape?o.replace(/\\/g,""):o.replace(/\\+/g,(e=>e.length%2==0?"\\\\":e?"\\":""))),o===e&&!0===n.contains?(S.output=e,S):(S.output=j.wrapOutput(o,S,t),S)}for(;!L();){if(m=M(),"\0"===m)continue;if("\\"===m){const e=w();if("/"===e&&!0!==n.bash)continue;if("."===e||";"===e)continue;if(!e){m+="\\",K({type:"text",value:m});continue}const t=/^\\+/.exec(N());let a=0;if(t&&t[0].length>2&&(a=t[0].length,S.index+=a,a%2!=0&&(m+="\\")),!0===n.unescape?m=M():m+=M(),0===S.brackets){K({type:"text",value:m});continue}}if(S.brackets>0&&("]"!==m||"["===O.value||"[^"===O.value)){if(!1!==n.posix&&":"===m){const e=O.value.slice(1);if(e.includes("[")&&(O.posix=!0,e.includes(":"))){const e=O.value.lastIndexOf("["),t=O.value.slice(0,e),n=O.value.slice(e+2),a=V[n];if(a){O.value=t+a,S.backtrack=!0,M(),s.output||1!==r.indexOf(O)||(s.output=d);continue}}}("["===m&&":"!==w()||"-"===m&&"]"===w())&&(m=`\\${m}`),"]"!==m||"["!==O.value&&"[^"!==O.value||(m=`\\${m}`),!0===n.posix&&"!"===m&&"["===O.value&&(m="^"),O.value+=m,B({value:m});continue}if(1===S.quotes&&'"'!==m){m=j.escapeRegex(m),O.value+=m,B({value:m});continue}if('"'===m){S.quotes=1===S.quotes?0:1,!0===n.keepQuotes&&K({type:"text",value:m});continue}if("("===m){P("parens"),K({type:"paren",value:m});continue}if(")"===m){if(0===S.parens&&!0===n.strictBrackets)throw new SyntaxError(J("opening","("));const e=T[T.length-1];if(e&&S.parens===e.parens+1){X(T.pop());continue}K({type:"paren",value:m,output:S.parens?")":"\\)"}),G("parens");continue}if("["===m){if(!0!==n.nobracket&&N().includes("]"))P("brackets");else{if(!0!==n.nobracket&&!0===n.strictBrackets)throw new SyntaxError(J("closing","]"));m=`\\${m}`}K({type:"bracket",value:m});continue}if("]"===m){if(!0===n.nobracket||O&&"bracket"===O.type&&1===O.value.length){K({type:"text",value:m,output:`\\${m}`});continue}if(0===S.brackets){if(!0===n.strictBrackets)throw new SyntaxError(J("opening","["));K({type:"text",value:m,output:`\\${m}`});continue}G("brackets");const e=O.value.slice(1);if(!0===O.posix||"^"!==e[0]||e.includes("/")||(m=`/${m}`),O.value+=m,B({value:m}),!1===n.literalBrackets||j.hasRegexChars(e))continue;const t=j.escapeRegex(O.value);if(S.output=S.output.slice(0,-O.value.length),!0===n.literalBrackets){S.output+=t,O.value=t;continue}O.value=`(${u}${t}|${O.value})`,S.output+=O.value;continue}if("{"===m&&!0!==n.nobrace){P("braces");const e={type:"brace",value:m,output:"(",outputIndex:S.output.length,tokensIndex:S.tokens.length};H.push(e),K(e);continue}if("}"===m){const e=H[H.length-1];if(!0===n.nobrace||!e){K({type:"text",value:m,output:m});continue}let t=")";if(!0===e.dots){const e=r.slice(),a=[];for(let t=e.length-1;t>=0&&(r.pop(),"brace"!==e[t].type);t--)"dots"!==e[t].type&&a.unshift(e[t].value);t=Y(a,n),S.backtrack=!0}if(!0!==e.comma&&!0!==e.dots){const n=S.output.slice(0,e.outputIndex),a=S.tokens.slice(e.tokensIndex);e.value=e.output="\\{",m=t="\\}",S.output=n;for(const e of a)S.output+=e.output||e.value}K({type:"brace",value:m,output:t}),G("braces"),H.pop();continue}if("|"===m){T.length>0&&T[T.length-1].conditions++,K({type:"text",value:m});continue}if(","===m){let e=m;const t=H[H.length-1];t&&"braces"===k[k.length-1]&&(t.comma=!0,e="|"),K({type:"comma",value:m,output:e});continue}if("/"===m){if("dot"===O.type&&S.index===S.start+1){S.start=S.index+1,S.consumed="",S.output="",r.pop(),O=s;continue}K({type:"slash",value:m,output:h});continue}if("."===m){if(S.braces>0&&"dot"===O.type){"."===O.value&&(O.output=l);const e=H[H.length-1];O.type="dots",O.output+=m,O.value+=m,e.dots=!0;continue}if(S.braces+S.parens===0&&"bos"!==O.type&&"slash"!==O.type){K({type:"text",value:m,output:l});continue}K({type:"dot",value:m,output:l});continue}if("?"===m){if(!(O&&"("===O.value)&&!0!==n.noextglob&&"("===w()&&"?"!==w(2)){U("qmark",m);continue}if(O&&"paren"===O.type){const e=w();let t=m;("("===O.value&&!/[!=<:]/.test(e)||"<"===e&&!/<([!=]|\w+>)/.test(N()))&&(t=`\\${m}`),K({type:"text",value:m,output:t});continue}if(!0!==n.dot&&("slash"===O.type||"bos"===O.type)){K({type:"qmark",value:m,output:R});continue}K({type:"qmark",value:m,output:g});continue}if("!"===m){if(!0!==n.noextglob&&"("===w()&&("?"!==w(2)||!/[!=<:]/.test(w(3)))){U("negate",m);continue}if(!0!==n.nonegate&&0===S.index){D();continue}}if("+"===m){if(!0!==n.noextglob&&"("===w()&&"?"!==w(2)){U("plus",m);continue}if(O&&"("===O.value||!1===n.regex){K({type:"plus",value:m,output:p});continue}if(O&&("bracket"===O.type||"paren"===O.type||"brace"===O.type)||S.parens>0){K({type:"plus",value:m});continue}K({type:"plus",value:p});continue}if("@"===m){if(!0!==n.noextglob&&"("===w()&&"?"!==w(2)){K({type:"at",extglob:!0,value:m,output:""});continue}K({type:"text",value:m});continue}if("*"!==m){"$"!==m&&"^"!==m||(m=`\\${m}`);const e=W.exec(N());e&&(m+=e[0],S.index+=e[0].length),K({type:"text",value:m});continue}if(O&&("globstar"===O.type||!0===O.star)){O.type="star",O.star=!0,O.value+=m,O.output=$,S.backtrack=!0,S.globstar=!0,I(m);continue}let t=N();if(!0!==n.noextglob&&/^\([^?]/.test(t)){U("star",m);continue}if("star"===O.type){if(!0===n.noglobstar){I(m);continue}const a=O.prev,o=a.prev,s="slash"===a.type||"bos"===a.type,r=o&&("star"===o.type||"globstar"===o.type);if(!0===n.bash&&(!s||t[0]&&"/"!==t[0])){K({type:"star",value:m,output:""});continue}const u=S.braces>0&&("comma"===a.type||"brace"===a.type),i=T.length&&("pipe"===a.type||"paren"===a.type);if(!s&&"paren"!==a.type&&!u&&!i){K({type:"star",value:m,output:""});continue}for(;"/**"===t.slice(0,3);){const n=e[S.index+4];if(n&&"/"!==n)break;t=t.slice(3),I("/**",3)}if("bos"===a.type&&L()){O.type="globstar",O.value+=m,O.output=v(n),S.output=O.output,S.globstar=!0,I(m);continue}if("slash"===a.type&&"bos"!==a.prev.type&&!r&&L()){S.output=S.output.slice(0,-(a.output+O.output).length),a.output=`(?:${a.output}`,O.type="globstar",O.output=v(n)+(n.strictSlashes?")":"|$)"),O.value+=m,S.globstar=!0,S.output+=a.output+O.output,I(m);continue}if("slash"===a.type&&"bos"!==a.prev.type&&"/"===t[0]){const e=void 0!==t[1]?"|$":"";S.output=S.output.slice(0,-(a.output+O.output).length),a.output=`(?:${a.output}`,O.type="globstar",O.output=`${v(n)}${h}|${h}${e})`,O.value+=m,S.output+=a.output+O.output,S.globstar=!0,I(m+M()),K({type:"slash",value:"/",output:""});continue}if("bos"===a.type&&"/"===t[0]){O.type="globstar",O.value+=m,O.output=`(?:^|${h}|${v(n)}${h})`,S.output=O.output,S.globstar=!0,I(m+M()),K({type:"slash",value:"/",output:""});continue}S.output=S.output.slice(0,-O.output.length),O.type="globstar",O.output=v(n),O.value+=m,S.output+=O.output,S.globstar=!0,I(m);continue}const a={type:"star",value:m,output:$};!0!==n.bash?!O||"bracket"!==O.type&&"paren"!==O.type||!0!==n.regex?(S.index!==S.start&&"slash"!==O.type&&"dot"!==O.type||("dot"===O.type?(S.output+=_,O.output+=_):!0===n.dot?(S.output+=A,O.output+=A):(S.output+=x,O.output+=x),"*"!==w()&&(S.output+=d,O.output+=d)),K(a)):(a.output=m,K(a)):(a.output=".*?","bos"!==O.type&&"slash"!==O.type||(a.output=x+a.output),K(a))}for(;S.brackets>0;){if(!0===n.strictBrackets)throw new SyntaxError(J("closing","]"));S.output=j.escapeLast(S.output,"["),G("brackets")}for(;S.parens>0;){if(!0===n.strictBrackets)throw new SyntaxError(J("closing",")"));S.output=j.escapeLast(S.output,"("),G("parens")}for(;S.braces>0;){if(!0===n.strictBrackets)throw new SyntaxError(J("closing","}"));S.output=j.escapeLast(S.output,"{"),G("braces")}if(!0===n.strictSlashes||"star"!==O.type&&"bracket"!==O.type||K({type:"maybe_slash",value:"",output:`${h}?`}),!0===S.backtrack){S.output="";for(const e of S.tokens)S.output+=null!=e.output?e.output:e.value,e.suffix&&(S.output+=e.suffix)}return S};ee.fastpaths=(e,t)=>{const n={...t},a="number"==typeof n.maxLength?Math.min(q,n.maxLength):q,o=e.length;if(o>a)throw new SyntaxError(`Input length: ${o}, exceeds maximum allowed length: ${a}`);e=z[e]||e;const{DOT_LITERAL:s,SLASH_LITERAL:r,ONE_CHAR:u,DOTS_SLASH:i,NO_DOT:c,NO_DOTS:l,NO_DOTS_SLASH:p,STAR:h,START_ANCHOR:d}=Q.globChars(n.windows),f=n.dot?l:c,b=n.dot?p:c,_=n.capture?"":"?:";let A=!0===n.bash?".*?":h;n.capture&&(A=`(${A})`);const g=e=>!0===e.noglobstar?A:`(${_}(?:(?!${d}${e.dot?i:s}).)*?)`,R=e=>{switch(e){case"*":return`${f}${u}${A}`;case".*":return`${s}${u}${A}`;case"*.*":return`${f}${A}${s}${u}${A}`;case"*/*":return`${f}${A}${r}${u}${b}${A}`;case"**":return f+g(n);case"**/*":return`(?:${f}${g(n)}${r})?${b}${u}${A}`;case"**/*.*":return`(?:${f}${g(n)}${r})?${b}${A}${s}${u}${A}`;case"**/.*":return`(?:${f}${g(n)}${r})?${s}${u}${A}`;default:{const t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;const n=R(t[1]);if(!n)return;return n+s+t[2]}}},y=j.removePrefix(e,{negated:!1,prefix:""});let E=R(y);return E&&!0!==n.strictSlashes&&(E+=`${r}?`),E};const te=F,ne=ee,ae=f,oe=$,se=(e,t,n=!1)=>{if(Array.isArray(e)){const a=e.map((e=>se(e,t,n)));return e=>{for(const t of a){const n=t(e);if(n)return n}return!1}}const a=(o=e)&&"object"==typeof o&&!Array.isArray(o)&&e.tokens&&e.input;var o;if(""===e||"string"!=typeof e&&!a)throw new TypeError("Expected pattern to be a non-empty string");const s=t||{},r=s.windows,u=a?se.compileRe(e,t):se.makeRe(e,t,!1,!0),i=u.state;delete u.state;let c=()=>!1;if(s.ignore){const e={...t,ignore:null,onMatch:null,onResult:null};c=se(s.ignore,e,n)}const l=(n,a=!1)=>{const{isMatch:o,match:l,output:p}=se.test(n,u,t,{glob:e,posix:r}),h={glob:e,state:i,regex:u,posix:r,input:n,output:p,match:l,isMatch:o};return"function"==typeof s.onResult&&s.onResult(h),!1===o?(h.isMatch=!1,!!a&&h):c(n)?("function"==typeof s.onIgnore&&s.onIgnore(h),h.isMatch=!1,!!a&&h):("function"==typeof s.onMatch&&s.onMatch(h),!a||h)};return n&&(l.state=i),l};se.test=(e,t,n,{glob:a,posix:o}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};const s=n||{},r=s.format||(o?ae.toPosixSlashes:null);let u=e===a,i=u&&r?r(e):e;return!1===u&&(i=r?r(e):e,u=i===a),!1!==u&&!0!==s.capture||(u=!0===s.matchBase||!0===s.basename?se.matchBase(e,t,n,o):t.exec(i)),{isMatch:Boolean(u),match:u,output:i}},se.matchBase=(e,t,n)=>(t instanceof RegExp?t:se.makeRe(t,n)).test(ae.basename(e)),se.isMatch=(e,t,n)=>se(t,n)(e),se.parse=(e,t)=>Array.isArray(e)?e.map((e=>se.parse(e,t))):ne(e,{...t,fastpaths:!1}),se.scan=(e,t)=>te(e,t),se.compileRe=(e,t,n=!1,a=!1)=>{if(!0===n)return e.output;const o=t||{},s=o.contains?"":"^",r=o.contains?"":"$";let u=`${s}(?:${e.output})${r}`;e&&!0===e.negated&&(u=`^(?!${u}).*$`);const i=se.toRegex(u,t);return!0===a&&(i.state=e),i},se.makeRe=(e,t={},n=!1,a=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let o={negated:!1,fastpaths:!0};return!1===t.fastpaths||"."!==e[0]&&"*"!==e[0]||(o.output=ne.fastpaths(e,t)),o.output||(o=ne(e,t)),se.compileRe(o,t,n,a)},se.toRegex=(e,t)=>{try{const n=t||{};return new RegExp(e,n.flags||(n.nocase?"i":""))}catch(n){if(t&&!0===t.debug)throw n;return/$^/}},se.constants=oe;const re=se,ue=f;function ie(e,t,n=!1){return!t||null!==t.windows&&void 0!==t.windows||(t={...t,windows:ue.isWindows()}),re(e,t,n)}Object.assign(ie,re);const ce=c(ie);var le=Object.defineProperty,pe=Object.getOwnPropertyDescriptor,he=(e,t,n,a)=>{for(var o,s=a>1?void 0:a?pe(t,n):t,r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a?o(t,n,s):o(s))||s);return a&&s&&le(t,n,s),s};let de=class extends a.s{constructor(){super(...arguments),this.tabs=[],this.selected=""}render(){return a.x`
      <div class="container">
        ${this.tabs.map((e=>{const t=e===this.selected;return a.x`<div @click=${()=>this._handleChangeTab(e)}>
            <input
              type="radio"
              name="mode"
              .id=${e}
              .value=${e}
              ?checked=${t}
            />
            <label class=${(0,d.e)({tab:!0,selected:t})}> ${e} </label>
          </div>`}))}
      </div>
    `}_handleChangeTab(e){this.dispatchEvent(new CustomEvent("tab-change",{detail:e})),this.selected=e}};de.styles=a.i`
    .container {
      display: flex;
      flex-direction: row;
      align-items: center;

      padding-left: 2px;
      padding-bottom: 4px;
      gap: 8px;

      color: var(--canary-color-gray-50);
      text-decoration-color: var(--canary-color-gray-50);
    }

    .selected.tab {
      color: var(--canary-color-gray-10);
      text-decoration: underline;
      text-decoration-color: var(--canary-color-gray-10);
    }

    label {
      font-size: 0.75rem;
      text-decoration-skip-ink: none;
    }

    input {
      display: none;
    }
  `,he([(0,s.n)()],de.prototype,"tabs",2),he([(0,s.n)()],de.prototype,"selected",2),de=he([(0,o.t)("canary-tabs-url")],de);var fe=Object.defineProperty,be=Object.getOwnPropertyDescriptor,_e=(e,t,n,a)=>{for(var o,s=a>1?void 0:a?be(t,n):t,r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a?o(t,n,s):o(s))||s);return a&&s&&fe(t,n,s),s};let Ae=class extends a.s{constructor(){super(...arguments),this.group=!1,this.tabs=[{name:"All",pattern:"**/*"}],this._selectedTab="",this._groupedReferences={}}connectedCallback(){super.connectedCallback(),"string"==typeof this.tabs&&(this.tabs=JSON.parse(this.tabs)),this.dispatchEvent((0,p.lh)({type:"register_tab",data:this.tabs}))}updated(e){if(!this._selectedTab&&this.tabs.length>0&&(this._selectedTab=this.tabs[0].name),e.has("_groupedReferences")&&!e.has("_selectedTab")){const e=Object.entries(this._groupedReferences).reduce(((e,[t,n])=>{var a,o;return(null==n?void 0:n.length)&&n[0].index<((null==(o=null==(a=this._groupedReferences[e])?void 0:a[0])?void 0:o.index)??999)?t:e}),this._selectedTab);this._handleChangeTab(e)}}render(){return this._search&&0!==this._search.result.search.length?(this._search.status===h.T.COMPLETE&&(this._groupedReferences=this._groupReferences(this._search.result.search.flatMap((({hits:e})=>e)),this.tabs)),a.x`
      <div class="container">
        <div class="tab-container">
          <canary-tabs-url
            .tabs=${this.tabs.map((({name:e})=>e))}
            .selected=${this._selectedTab}
            @tab-change=${this._handleChangeTabEvent}
          ></canary-tabs-url>
        </div>
        <div>
          ${this._search.status===h.T.ERROR?a.x`<canary-error></canary-error>`:this._currentResults()}
        </div>
      </div>
    `):a.T}_currentResults(){const e=this._groupedReferences[this._selectedTab]??[];return a.x`
      <canary-search-references
        .references=${e}
        .group=${this.group}
      ></canary-search-references>
    `}_handleChangeTabEvent(e){this._handleChangeTab(e.detail)}_handleChangeTab(e){this._selectedTab=e;const t=this.tabs.findIndex((t=>t.name===e));this.dispatchEvent((0,p.lh)({type:"set_tab",data:t}))}_groupReferences(e,t){const n=t.reduce(((e,t)=>({...e,[t.name]:[]})),{}),a=t.map((e=>ce(e.pattern)));return e.forEach(((e,o)=>{const s={...e,index:o},{pathname:r}=(0,l.vx)(e.url);for(let u=0;u<a.length;u++)a[u](r)&&n[t[u].name].push(s)})),n}};Ae.styles=[a.i`
      .container {
        display: flex;
        flex-direction: column;
      }

      .tab-container {
        position: sticky;
        top: 0px;
        background-color: var(--canary-color-gray-100);
        z-index: 50;
      }
    `],_e([(0,s.n)({type:Boolean})],Ae.prototype,"group",2),_e([(0,s.n)({type:Array})],Ae.prototype,"tabs",2),_e([(0,u.c)({context:i.iK,subscribe:!0}),(0,r.r)()],Ae.prototype,"_search",2),_e([(0,r.r)()],Ae.prototype,"_selectedTab",2),_e([(0,r.r)()],Ae.prototype,"_groupedReferences",2),Ae=_e([(0,o.t)("canary-search-results-tabs")],Ae)},1089:(e,t,n)=>{n.d(t,{L:()=>s,M:()=>a,a:()=>o});const a="Search",o="Ask",s="Docs"},2208:(e,t,n)=>{n.d(t,{b8:()=>l,lh:()=>p,y$:()=>c});var a=n(8030),o=n(6468),s=n(1660),r=n(1089);const u="function"==typeof Symbol&&Symbol.observable||"@@observable";function i(e,t,n){let a;const o={context:e,status:"active",output:void 0,error:void 0};let s=o;const r=function(e){return(t,n)=>{let a=t.context;const o=null==e?void 0:e[n.type];if(!o)return t;if("function"==typeof o)a=(e=>Object.assign({},a,null==o?void 0:o(e,n)))(a);else{const e={};for(const t of Object.keys(o)){const s=o[t];e[t]="function"==typeof s?s(a,n):s}a=Object.assign({},a,e)}return{...t,context:a}}}(t);return{send(e){!function(e){s=r(s,e),null==a||a.forEach((e=>{var t;return null==(t=e.next)?void 0:t.call(e,s)}))}(e)},getSnapshot:()=>s,getInitialSnapshot:()=>o,subscribe(e){const t=function(e,t,n){var a,o,s;const r="object"==typeof e,u=r?e:void 0;return{next:null==(a=r?e.next:e)?void 0:a.bind(u),error:null==(o=r?e.error:t)?void 0:o.bind(u),complete:null==(s=r?e.complete:n)?void 0:s.bind(u)}}(e);return a??(a=new Set),a.add(t),{unsubscribe:()=>null==a?void 0:a.delete(t)}},[u](){return this}}}const c=e=>i({operation:new a.i(e,{context:o.LL,initialValue:{}}),mode:new a.i(e,{context:o.pC,initialValue:{options:new Set([]),default:null,current:null}}),tab:new a.i(e,{context:o.JF,initialValue:{options:[],current:0}}),query:new a.i(e,{context:o.qD,initialValue:""}),searchManager:new s.S(e,{debounceMs:100}),askManager:new s.A(e)},{register_operations:{operation:(e,{data:t})=>(e.operation.setValue({...e.operation.value,...t}),e.operation)},register_mode:{mode:(e,{data:t})=>(e.mode.setValue({options:e.mode.value.options.add(t),current:e.mode.value.current??t,default:e.mode.value.default??t}),e.mode)},register_tab:{tab:(e,{data:t})=>(e.tab.setValue({options:t,current:0}),e.tab)},set_mode:{mode:(e,{data:t})=>{var n,a;if(e.mode.setValue({...e.mode.value,current:t}),t===r.M)e.askManager.abort(),e.searchManager.run(e.query.value,e.operation.value);else if(t===r.a){e.searchManager.abort();const t=e.tab.value,o=null==(a=null==(n=t.options)?void 0:n[t.current])?void 0:a.pattern;e.askManager.run(e.query.value,o,e.operation.value)}else e.searchManager.abort(),e.askManager.abort();return e.mode}},set_tab:{tab:(e,{data:t})=>(e.tab.setValue({...e.tab.value,current:t}),e.tab)},set_query:{query:(e,{data:t})=>{var n,a;if(e.query.setValue(t),e.mode.value.current===r.M&&e.searchManager.run(t,e.operation.value),e.mode.value.current===r.a){const o=e.tab.value,s=null==(a=null==(n=o.options)?void 0:n[o.current])?void 0:a.pattern;e.askManager.run(t,s,e.operation.value)}return e.query}},_unsafe_set_ask_ctx:{askManager:(e,{data:t})=>(e.askManager.ctx={...e.askManager.ctx,...t},e.askManager)}}),l="canary-broadcast",p=e=>new CustomEvent(l,{detail:e,composed:!0,bubbles:!0})}}]);